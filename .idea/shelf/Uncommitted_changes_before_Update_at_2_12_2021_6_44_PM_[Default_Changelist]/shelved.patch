Index: .idea/workspace.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><?xml version=\"1.0\" encoding=\"UTF-8\"?>\r\n<project version=\"4\">\r\n  <component name=\"BranchesTreeState\">\r\n    <expand>\r\n      <path>\r\n        <item name=\"ROOT\" type=\"e8cecc67:BranchNodeDescriptor\" />\r\n        <item name=\"LOCAL_ROOT\" type=\"e8cecc67:BranchNodeDescriptor\" />\r\n      </path>\r\n      <path>\r\n        <item name=\"ROOT\" type=\"e8cecc67:BranchNodeDescriptor\" />\r\n        <item name=\"REMOTE_ROOT\" type=\"e8cecc67:BranchNodeDescriptor\" />\r\n      </path>\r\n      <path>\r\n        <item name=\"ROOT\" type=\"e8cecc67:BranchNodeDescriptor\" />\r\n        <item name=\"REMOTE_ROOT\" type=\"e8cecc67:BranchNodeDescriptor\" />\r\n        <item name=\"GROUP_NODE:origin\" type=\"e8cecc67:BranchNodeDescriptor\" />\r\n      </path>\r\n    </expand>\r\n    <select />\r\n  </component>\r\n  <component name=\"ChangeListManager\">\r\n    <list default=\"true\" id=\"f2339b73-0389-46c4-a334-7a3a226d24e3\" name=\"Default Changelist\" comment=\"\">\r\n      <change beforePath=\"$PROJECT_DIR$/.idea/workspace.xml\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/.idea/workspace.xml\" afterDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/src/Presentation/Virgol.School/ClientApp/src/components/dashboards/Teacher/RecentClass/RecentClass.js\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/src/Presentation/Virgol.School/ClientApp/src/components/dashboards/Teacher/RecentClass/RecentClass.js\" afterDir=\"false\" />\r\n    </list>\r\n    <option name=\"SHOW_DIALOG\" value=\"false\" />\r\n    <option name=\"HIGHLIGHT_CONFLICTS\" value=\"true\" />\r\n    <option name=\"HIGHLIGHT_NON_ACTIVE_CHANGELIST\" value=\"false\" />\r\n    <option name=\"LAST_RESOLUTION\" value=\"IGNORE\" />\r\n  </component>\r\n  <component name=\"ComposerSettings\">\r\n    <execution />\r\n  </component>\r\n  <component name=\"FileTemplateManagerImpl\">\r\n    <option name=\"RECENT_TEMPLATES\">\r\n      <list>\r\n        <option value=\"JavaScript File\" />\r\n      </list>\r\n    </option>\r\n  </component>\r\n  <component name=\"Git.Settings\">\r\n    <option name=\"RECENT_GIT_ROOT_PATH\" value=\"$PROJECT_DIR$\" />\r\n  </component>\r\n  <component name=\"JsFlowSettings\">\r\n    <service-enabled>true</service-enabled>\r\n    <exe-path />\r\n    <other-services-enabled>true</other-services-enabled>\r\n    <auto-save>true</auto-save>\r\n  </component>\r\n  <component name=\"ProjectId\" id=\"1fvCvWX9GPek4R9pqXMe5HoBy8S\" />\r\n  <component name=\"ProjectLevelVcsManager\">\r\n    <ConfirmationsSetting value=\"1\" id=\"Add\" />\r\n  </component>\r\n  <component name=\"ProjectViewState\">\r\n    <option name=\"hideEmptyMiddlePackages\" value=\"true\" />\r\n    <option name=\"showLibraryContents\" value=\"true\" />\r\n  </component>\r\n  <component name=\"PropertiesComponent\">\r\n    <property name=\"RunOnceActivity.OpenProjectViewOnStart\" value=\"true\" />\r\n    <property name=\"RunOnceActivity.ShowReadmeOnStart\" value=\"true\" />\r\n    <property name=\"WebServerToolWindowFactoryState\" value=\"false\" />\r\n    <property name=\"aspect.path.notification.shown\" value=\"true\" />\r\n    <property name=\"last_opened_file_path\" value=\"$PROJECT_DIR$/../purephp\" />\r\n    <property name=\"ts.external.directory.path\" value=\"C:\\Program Files\\JetBrains\\WebStorm 2020.1\\plugins\\JavaScriptLanguage\\jsLanguageServicesImpl\\external\" />\r\n    <property name=\"vue.rearranger.settings.migration\" value=\"true\" />\r\n  </component>\r\n  <component name=\"SpellCheckerSettings\" RuntimeDictionaries=\"0\" Folders=\"0\" CustomDictionaries=\"0\" DefaultDictionary=\"application-level\" UseSingleDictionary=\"true\" transferred=\"true\" />\r\n  <component name=\"SvnConfiguration\">\r\n    <configuration />\r\n  </component>\r\n  <component name=\"TaskManager\">\r\n    <task active=\"true\" id=\"Default\" summary=\"Default task\">\r\n      <changelist id=\"f2339b73-0389-46c4-a334-7a3a226d24e3\" name=\"Default Changelist\" comment=\"\" />\r\n      <created>1597089409134</created>\r\n      <option name=\"number\" value=\"Default\" />\r\n      <option name=\"presentableId\" value=\"Default\" />\r\n      <updated>1597089409134</updated>\r\n      <workItem from=\"1597089410554\" duration=\"36000\" />\r\n      <workItem from=\"1597822739483\" duration=\"31000\" />\r\n      <workItem from=\"1598097113185\" duration=\"25000\" />\r\n      <workItem from=\"1598275391414\" duration=\"982000\" />\r\n      <workItem from=\"1598287516797\" duration=\"617000\" />\r\n      <workItem from=\"1599150347025\" duration=\"982000\" />\r\n      <workItem from=\"1599219194938\" duration=\"5000\" />\r\n      <workItem from=\"1599307715859\" duration=\"1914000\" />\r\n      <workItem from=\"1599756012856\" duration=\"87000\" />\r\n      <workItem from=\"1599765666207\" duration=\"2564000\" />\r\n      <workItem from=\"1599826525834\" duration=\"2728000\" />\r\n      <workItem from=\"1599920692540\" duration=\"1385000\" />\r\n      <workItem from=\"1599940389549\" duration=\"6383000\" />\r\n      <workItem from=\"1600023651852\" duration=\"2165000\" />\r\n      <workItem from=\"1600025881818\" duration=\"3420000\" />\r\n      <workItem from=\"1600082752250\" duration=\"1362000\" />\r\n      <workItem from=\"1600102192800\" duration=\"7917000\" />\r\n      <workItem from=\"1600114210750\" duration=\"4087000\" />\r\n      <workItem from=\"1600120000821\" duration=\"413000\" />\r\n      <workItem from=\"1608550403162\" duration=\"6000\" />\r\n      <workItem from=\"1612721784286\" duration=\"1162000\" />\r\n      <workItem from=\"1612779845941\" duration=\"161000\" />\r\n      <workItem from=\"1612782668532\" duration=\"124000\" />\r\n      <workItem from=\"1612804700724\" duration=\"269000\" />\r\n      <workItem from=\"1612813181074\" duration=\"740000\" />\r\n      <workItem from=\"1612872495573\" duration=\"27000\" />\r\n      <workItem from=\"1612898321309\" duration=\"113000\" />\r\n      <workItem from=\"1612951394673\" duration=\"732000\" />\r\n      <workItem from=\"1612955645728\" duration=\"141000\" />\r\n      <workItem from=\"1612980189666\" duration=\"192000\" />\r\n      <workItem from=\"1613038967201\" duration=\"494000\" />\r\n      <workItem from=\"1613048230000\" duration=\"1050000\" />\r\n    </task>\r\n    <task id=\"LOCAL-00001\" summary=\"test\">\r\n      <created>1611421261059</created>\r\n      <option name=\"number\" value=\"00001\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00001\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1611421261059</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00002\" summary=\"a test commit\">\r\n      <created>1611421734193</created>\r\n      <option name=\"number\" value=\"00002\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00002\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1611421734193</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00003\" summary=\"landing page optimized\">\r\n      <created>1612779975970</created>\r\n      <option name=\"number\" value=\"00003\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00003\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1612779975970</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00004\" summary=\"select background changed\">\r\n      <created>1612782750114</created>\r\n      <option name=\"number\" value=\"00004\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00004\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1612782750114</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00005\" summary=\"text align for table records changed to right\">\r\n      <created>1612898396438</created>\r\n      <option name=\"number\" value=\"00005\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00005\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1612898396438</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00006\" summary=\"stream info page re-designed\">\r\n      <created>1612951518003</created>\r\n      <option name=\"number\" value=\"00006\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00006\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1612951518003</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00007\" summary=\"the national code replaced the email\">\r\n      <created>1612955779117</created>\r\n      <option name=\"number\" value=\"00007\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00007\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1612955779117</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00008\" summary=\"some bug fixed &#10;&#10;sidebar cards now in one line &#10;all tables data is in right line\">\r\n      <created>1613039295979</created>\r\n      <option name=\"number\" value=\"00008\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00008\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1613039295979</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00009\" summary=\"stream tab styles added\">\r\n      <created>1613039412677</created>\r\n      <option name=\"number\" value=\"00009\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00009\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1613039412677</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00010\" summary=\"button bugs fixed&#10;all tables in right align right now\">\r\n      <created>1613048519441</created>\r\n      <option name=\"number\" value=\"00010\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00010\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1613048519441</updated>\r\n    </task>\r\n    <option name=\"localTasksCounter\" value=\"11\" />\r\n    <servers />\r\n  </component>\r\n  <component name=\"TypeScriptGeneratedFilesManager\">\r\n    <option name=\"version\" value=\"3\" />\r\n  </component>\r\n  <component name=\"UnknownFeatures\">\r\n    <option featureType=\"com.intellij.fileTypeFactory\" implementationName=\"*.env\" />\r\n  </component>\r\n  <component name=\"Vcs.Log.Tabs.Properties\">\r\n    <option name=\"TAB_STATES\">\r\n      <map>\r\n        <entry key=\"MAIN\">\r\n          <value>\r\n            <State />\r\n          </value>\r\n        </entry>\r\n      </map>\r\n    </option>\r\n    <option name=\"oldMeFiltersMigrated\" value=\"true\" />\r\n  </component>\r\n  <component name=\"VcsManagerConfiguration\">\r\n    <MESSAGE value=\"test\" />\r\n    <MESSAGE value=\"a test commit\" />\r\n    <MESSAGE value=\"landing page optimized\" />\r\n    <MESSAGE value=\"select background changed\" />\r\n    <MESSAGE value=\"text align for table records changed to right\" />\r\n    <MESSAGE value=\"stream info page re-designed\" />\r\n    <MESSAGE value=\"the national code replaced the email\" />\r\n    <MESSAGE value=\"some bug fixed &#10;&#10;sidebar cards now in one line &#10;all tables data is in right line\" />\r\n    <MESSAGE value=\"stream tab styles added\" />\r\n    <MESSAGE value=\"button bugs fixed&#10;all tables in right align right now\" />\r\n    <option name=\"LAST_COMMIT_MESSAGE\" value=\"button bugs fixed&#10;all tables in right align right now\" />\r\n  </component>\r\n</project>
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/.idea/workspace.xml b/.idea/workspace.xml
--- a/.idea/workspace.xml	(revision a69c99e771a5df20b0ed0d2de1a71cafbf9eae09)
+++ b/.idea/workspace.xml	(date 1613135079877)
@@ -21,7 +21,8 @@
   <component name="ChangeListManager">
     <list default="true" id="f2339b73-0389-46c4-a334-7a3a226d24e3" name="Default Changelist" comment="">
       <change beforePath="$PROJECT_DIR$/.idea/workspace.xml" beforeDir="false" afterPath="$PROJECT_DIR$/.idea/workspace.xml" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/src/Presentation/Virgol.School/ClientApp/src/components/dashboards/Teacher/RecentClass/RecentClass.js" beforeDir="false" afterPath="$PROJECT_DIR$/src/Presentation/Virgol.School/ClientApp/src/components/dashboards/Teacher/RecentClass/RecentClass.js" afterDir="false" />
+      <change beforePath="$PROJECT_DIR$/src/Presentation/Virgol.School/ClientApp/src/components/dashboards/manager/class/ClassInfo.js" beforeDir="false" afterPath="$PROJECT_DIR$/src/Presentation/Virgol.School/ClientApp/src/components/dashboards/manager/class/ClassInfo.js" afterDir="false" />
+      <change beforePath="$PROJECT_DIR$/src/Presentation/Virgol.School/ClientApp/src/components/dashboards/recordedSessions/RecordedSessions.js" beforeDir="false" afterPath="$PROJECT_DIR$/src/Presentation/Virgol.School/ClientApp/src/components/dashboards/recordedSessions/RecordedSessions.js" afterDir="false" />
     </list>
     <option name="SHOW_DIALOG" value="false" />
     <option name="HIGHLIGHT_CONFLICTS" value="true" />
@@ -107,6 +108,9 @@
       <workItem from="1612980189666" duration="192000" />
       <workItem from="1613038967201" duration="494000" />
       <workItem from="1613048230000" duration="1050000" />
+      <workItem from="1613123401731" duration="340000" />
+      <workItem from="1613134949503" duration="31000" />
+      <workItem from="1613135054973" duration="25000" />
     </task>
     <task id="LOCAL-00001" summary="test">
       <created>1611421261059</created>
@@ -178,7 +182,14 @@
       <option name="project" value="LOCAL" />
       <updated>1613048519441</updated>
     </task>
-    <option name="localTasksCounter" value="11" />
+    <task id="LOCAL-00011" summary="edit lesson modal redesigned&#10;edit session button added&#10;some style added to landing page">
+      <created>1613123428130</created>
+      <option name="number" value="00011" />
+      <option name="presentableId" value="LOCAL-00011" />
+      <option name="project" value="LOCAL" />
+      <updated>1613123428130</updated>
+    </task>
+    <option name="localTasksCounter" value="12" />
     <servers />
   </component>
   <component name="TypeScriptGeneratedFilesManager">
@@ -210,6 +221,7 @@
     <MESSAGE value="some bug fixed &#10;&#10;sidebar cards now in one line &#10;all tables data is in right line" />
     <MESSAGE value="stream tab styles added" />
     <MESSAGE value="button bugs fixed&#10;all tables in right align right now" />
-    <option name="LAST_COMMIT_MESSAGE" value="button bugs fixed&#10;all tables in right align right now" />
+    <MESSAGE value="edit lesson modal redesigned&#10;edit session button added&#10;some style added to landing page" />
+    <option name="LAST_COMMIT_MESSAGE" value="edit lesson modal redesigned&#10;edit session button added&#10;some style added to landing page" />
   </component>
 </project>
\ No newline at end of file
Index: src/Presentation/Virgol.School/ClientApp/src/components/dashboards/recordedSessions/RecordedSessions.js
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>import React from 'react';\r\nimport { withTranslation } from 'react-i18next';\r\nimport PlusTable from '../tables/PlusTable';\r\nimport { arrow_left, edit, users } from '../../../assets/icons';\r\nimport { connect } from 'react-redux';\r\nimport {GetRecordList} from '../../../_actions/meetingActions'\r\nimport history from \"../../../history\";\r\nimport ReactTooltip from 'react-tooltip';\r\n\r\nclass RecorededSession extends React.Component {\r\n\r\n    state = { loading: false, query: '' }\r\n\r\n    componentDidMount = () => {\r\n        var scheduleId = this.props.match.params.id;\r\n\r\n        this.props.GetRecordList(this.props.user.token , parseInt(scheduleId))\r\n    }\r\n\r\n    changeQuery = (query) => {\r\n        this.setState({ query })\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div className=\"w-screen min-h-screen bg-black-blue md:px-16 px-4 pb-6 md:pt-6 pt-24\">\r\n                <div onClick={() => this.props.history.goBack()} className=\"w-10 h-10 cursor-pointer absolute top-0 left-0 mt-6 ml-6 rounded-lg border-2 border-purplish\">\r\n                    {arrow_left('w-6 centerize text-purplish')}\r\n                </div>\r\n                <div className=\"w-full min-h-85 flex mt-6 md:flex-row flex-col items-center\">\r\n                {/* <div className=\"md:w-1/2 w-full md:mb-0 mb-8\">\r\n                    <img className=\"md:w-5/6 w-full\" src=\"/recorded.svg\" alt=\"recorded svg\" />\r\n                </div> */}\r\n                <div className=\"w-full h-85 overflow-auto\">\r\n                <PlusTable\r\n                    title={this.props.t('recordedSessions')}\r\n                    isLoading={false}\r\n                    isPaginate={false}\r\n                    query={this.state.query}\r\n                    changeQuery={this.changeQuery}\r\n                    button={() => null}\r\n                    headers={[this.props.t('col'), this.props.t('name'), this.props.t('date'), 'ضبط', this.props.t('ParticipantionStatus')]}\r\n                    body={() => {\r\n                        return (\r\n\r\n                            (this.props.recordingsList ?\r\n                                (this.props.recordingsList.length === 0 ?\r\n                                    <tr>\r\n                                        <td className=\"py-4 text-right\">{this.props.t('noRecordedSession')}</td>\r\n                                    </tr>\r\n                                :\r\n                                this.props.recordingsList.map((x,index) => {\r\n                                    return (\r\n                                        <tr>\r\n                                            <td className=\"py-4 text-right\">{index + 1}</td>\r\n                                            <td className=\"py-4 text-right d-flex flex-wrap\">\r\n                                                <div className=\"ml-2 pt-2\">{x.name} - {this.props.t('session')} {index + 1}</div>\r\n                                                <div data-tip={this.props.t('edit')}> {edit('text-white w-10 bg-greenish rounded-lg p-2')}</div>\r\n                                                <ReactTooltip type=\"dark\" effect=\"float\" place=\"top\"/>\r\n                                            </td>\r\n                                            <td className=\"py-4 text-right\">{new Date(x.meeting.startTime).toLocaleString('IR-fa')}</td>\r\n                                            <td className=\"py-4 text-right\">\r\n                                            <button className=\"px-8 py-1 m-1 rounded-lg bg-greenish\">{this.props.t('download')}</button>\r\n                                            <button onClick={() => window.open(x.url , \"_blank\")} className=\"px-8 py-1 m-1 rounded-lg bg-purplish\">{this.props.t('view')}</button>\r\n                                            </td>\r\n                                            <td className=\"text-right\" onClick={() => history.push(`/ParticipantInfo/${x.meeting.id}`)}>\r\n                                                {users('w-8 cursor-pointer text-white')}\r\n                                            </td>\r\n                                        </tr>\r\n                                    )\r\n                                }))\r\n                            :\r\n                            <tr>\r\n                                <td className=\"py-4\">{this.props.t('loading')}</td>\r\n                            </tr>\r\n                            )\r\n                        );\r\n                    }}\r\n                />\r\n                </div>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n    return {\r\n        user: state.auth.userInfo,\r\n        recordingsList : state.meetingData.recordings\r\n    }\r\n}\r\n\r\nconst cwrapped = connect(mapStateToProps , {GetRecordList})(RecorededSession)\r\n\r\nexport default withTranslation()(cwrapped);
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/src/Presentation/Virgol.School/ClientApp/src/components/dashboards/recordedSessions/RecordedSessions.js b/src/Presentation/Virgol.School/ClientApp/src/components/dashboards/recordedSessions/RecordedSessions.js
--- a/src/Presentation/Virgol.School/ClientApp/src/components/dashboards/recordedSessions/RecordedSessions.js	(revision a69c99e771a5df20b0ed0d2de1a71cafbf9eae09)
+++ b/src/Presentation/Virgol.School/ClientApp/src/components/dashboards/recordedSessions/RecordedSessions.js	(date 1613125528526)
@@ -15,6 +15,8 @@
         var scheduleId = this.props.match.params.id;
 
         this.props.GetRecordList(this.props.user.token , parseInt(scheduleId))
+
+        console.log(this.props.recordingsList);
     }
 
     changeQuery = (query) => {
@@ -54,7 +56,7 @@
                                         <tr>
                                             <td className="py-4 text-right">{index + 1}</td>
                                             <td className="py-4 text-right d-flex flex-wrap">
-                                                <div className="ml-2 pt-2">{x.name} - {this.props.t('session')} {index + 1}</div>
+                                                <div className="ml-2 pt-2">{x.meeting.meetingName.split('-')[1]} - {this.props.t('session')} {index + 1}</div>
                                                 <div data-tip={this.props.t('edit')}> {edit('text-white w-10 bg-greenish rounded-lg p-2')}</div>
                                                 <ReactTooltip type="dark" effect="float" place="top"/>
                                             </td>
Index: src/Presentation/Virgol.School/ClientApp/src/components/dashboards/manager/class/ClassInfo.js
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>import React, {createRef} from 'react'\r\nimport { withTranslation } from 'react-i18next';\r\nimport { Link } from 'react-router-dom'\r\nimport { motion } from \"framer-motion\";\r\nimport Schedule from './Schedule'\r\nimport {AddClassSchedule , DeleteClassSchedule , getClassSchedule} from '../../../../_actions/classScheduleActions'\r\nimport {getStudentsClass , UnAssignUserFromClass , AssignUserToClass , AssignUserListToClass } from '../../../../_actions/managerActions'\r\nimport {deleteClass , editClass} from '../../../../_actions/schoolActions'\r\nimport { connect } from 'react-redux';\r\nimport AddLesson from './AddLesson';\r\nimport {arrow_left, plus, x} from \"../../../../assets/icons\";\r\nimport DeleteConfirm from '../../../modals/DeleteConfirm'\r\nimport PencilText from '../../../field/PencilText';\r\nimport AddStudent from './AddStudent'\r\nimport protectedManager from \"../../../protectedRoutes/protectedManager\";\r\nimport history from \"../../../../history\";\r\n\r\nclass ClassInfo extends React.Component {\r\n\r\n    state = {lessons : [], addLesson: false, loading: false , showChangeName: false, selected : [],\r\n        classDetail : {}, showAdd: false , showUnAssignModal : false, className : \"\" , addStudent : false}\r\n\r\n        sc = createRef()\r\n\r\n    addVariant = {\r\n        open: {\r\n            scaleY: 1,\r\n            opacity: 1\r\n        },\r\n        close: {\r\n            scaleY: 0,\r\n            opacity: 0\r\n        },\r\n        transition: {\r\n            duration: 0.5\r\n        }\r\n    }\r\n\r\n    componentDidMount = async () =>{\r\n        this.setState({loading : true})\r\n        await this.props.getClassSchedule(this.props.user.token , this.props.match.params.id)\r\n        await this.props.getStudentsClass(this.props.user.token , this.props.match.params.id)\r\n        this.setState({loading : false})\r\n\r\n        const classDetail = this.props.allClass.filter(x => x.id == parseInt(this.props.match.params.id))\r\n\r\n        this.setState({classDetail : classDetail[0]})\r\n\r\n        this.sc.current.scrollLeft = this.sc.current.clientWidth\r\n        \r\n    }\r\n\r\n    showDelete = () => {\r\n        this.setState({showDeleteModal : true})\r\n    }\r\n\r\n    DeleteClass = async () => {\r\n\r\n        await this.props.deleteClass(this.props.user.token , this.props.match.params.id)\r\n        this.setState({showDeleteModal : false})\r\n    }\r\n    \r\n\r\n    handleExcel = async excel => {\r\n        await this.props.AssignUserToClass(this.props.user.token , this.props.match.params.id , excel)\r\n        this.componentDidMount()\r\n        this.render()\r\n    }\r\n\r\n    addLesson = async (classSchedule) => {\r\n        this.setState({ addLesson: false })\r\n        await this.props.AddClassSchedule(this.props.user.token, classSchedule)\r\n        this.componentDidMount()\r\n        this.render()\r\n    }\r\n\r\n    onAddStudent = async(userIds) =>{\r\n        await this.props.AssignUserListToClass(this.props.user.token , userIds , parseInt(this.props.match.params.id) , this.state.classDetail.grade_Id == 0);\r\n        this.setState({addStudent : false})\r\n        this.componentDidMount()\r\n        this.render()\r\n    }\r\n\r\n    deleteLesson = async (id) => {\r\n\r\n        await this.props.DeleteClassSchedule(this.props.user.token , id)\r\n        this.componentDidMount()\r\n        this.render()\r\n    }\r\n\r\n    handleSelectStudent = (e) =>{\r\n        const event = e;\r\n\r\n        if(event.target.checked)\r\n        {\r\n            this.setState({selected : [...this.state.selected, parseInt(event.target.value)]})\r\n        }\r\n        else\r\n        {\r\n            this.setState({selected : this.state.selected.filter(element => element !== parseInt(event.target.value))})\r\n        } \r\n    }\r\n\r\n\r\n    showUnassign = (id) => {\r\n        this.setState({selectedStd : id})\r\n        this.setState({showUnAssignModal : true})\r\n    }\r\n\r\n    unAssignStudent = async () =>{\r\n        const result = await this.props.UnAssignUserFromClass(this.props.user.token , parseInt(this.props.match.params.id) , [this.state.selectedStd]);\r\n        if(result)\r\n        {\r\n            this.componentDidMount()\r\n            this.render()\r\n        }\r\n    }\r\n\r\n    onEdit = async () =>{\r\n        this.setState({ showChangeName: false })\r\n        await this.props.editClass(this.props.user.token , parseInt(this.props.match.params.id) , this.state.className)\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div onClick={() => this.setState({ showChangeName: false , addStudent : false})} className=\"w-screen min-h-screen py-16 lg:px-10 px-1 relative bg-bold-blue grid lg:grid-cols-4 grid-cols-1 lg:col-gap-4 xl:col-gap-10 col-gap-10 row-gap-10\">\r\n                <div onClick={() => history.push('/m/bases')} className=\"w-10 h-10 cursor-pointer absolute top-0 left-0 mt-4 ml-4 rounded-lg border-2 border-purplish\">\r\n                    {arrow_left('w-6 centerize text-purplish')}\r\n                </div>\r\n                {this.state.addStudent ? \r\n                    <AddStudent IsFreeClass={this.state.classDetail.grade_Id == 0 ? true : false} \r\n                                onAddStudent={(dataIds) => this.onAddStudent(dataIds)} \r\n                                cancel={() => this.setState({addStudent : false})} /> \r\n                                : null}\r\n                                \r\n                {this.state.showDeleteModal ? \r\n                    <DeleteConfirm\r\n                        title={this.props.t('deleteConfirm')}\r\n                        confirm={this.DeleteClass}\r\n                        cancel={() => this.setState({ showDeleteModal: false})}\r\n                    /> \r\n                    : \r\n                    null\r\n                }\r\n                {this.state.showUnAssignModal ? \r\n                    <DeleteConfirm\r\n                        title={this.props.t('deleteFromClassConfirm')}\r\n                        confirm={this.unAssignStudent}\r\n                        cancel={() => this.setState({ showUnAssignModal: false , selectedStd : 0})}\r\n                    /> \r\n                    : \r\n                    null\r\n                }\r\n                {this.state.addLesson ? \r\n                <AddLesson\r\n                    addLesson={this.addLesson}\r\n                    IsFreeClass={this.state.classDetail.grade_Id == 0 ? true : false}\r\n                    classId={this.props.match.params.id}\r\n                    cancel={() => this.setState({ addLesson: false })}\r\n                /> \r\n                : \r\n                null\r\n                }\r\n                <div className=\"addStudent lg:row-start-1 row-start-2 w-full relative rounded-lg lg:min-h-90 text-center min-h-0 py-6 px-4 col-span-1 border-2 border-dark-blue\">\r\n            <p className=\"text-xl text-white mb-8\">{this.state.classDetail.grade_Id == 0 ? this.props.t('participantList') : this.props.t('studentsList')} </p>\r\n                    {/* <label htmlFor=\"excel\" className=\"px-1 cursor-pointer py-1 border-2 border-greenish text-greenish rounded-lg\">*/}\r\n                    {/*    {plus('w-4')}*/}\r\n                    {/*</label>*/}\r\n                    {/*<input*/}\r\n                    {/*    onChange={(e) => this.handleExcel(e.target.files[0])}*/}\r\n                    {/*    type=\"file\"*/}\r\n                    {/*    id=\"excel\"*/}\r\n                    {/*    className=\"hidden\"*/}\r\n                    {/*    accept=\"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet, application/vnd.ms-excel\"*/}\r\n                    {/*/>*/}\r\n                     {(this.state.loading ? this.props.t('loading') :\r\n                        (!this.props.students || this.props.students.length === 0 ? \r\n                            <div className=\"flex flex-row-reverse justify-between items-center\">\r\n                                <p className=\"text-center text-white\"> {this.state.classDetail.grade_Id == 0 ? this.props.t('emptyParticipantList') : this.props.t('emptyStudentsList')}</p>\r\n                            </div>\r\n                        :\r\n                        this.props.students.map(std => {\r\n                            return ((std ?\r\n                                        <div className=\"flex flex-row-reverse justify-between items-center\">\r\n                                            {/* <input type=\"checkbox\" value={std.id} onChange={this.handleSelectStudent}></input> */}\r\n                                            <span onClick={() => this.showUnassign(std.id)}>{x('w-6 text-redish cursor-pointer')}</span>\r\n                                            <p className=\"text-right text-white\">{std.firstName} {std.lastName}</p>\r\n                                            <p className=\"text-right text-white\">{std.melliCode}</p>\r\n                                        </div>\r\n                                        :\r\n                                        null\r\n                                    ))\r\n                            })\r\n                        )\r\n                     )}\r\n                    <div className={`addStudentBtn transition-all duration-200 absolute bottom-0 mb-4 flex flex-row justify-start items-center`}>\r\n                        <div onClick={() => this.setState({ showAdd: !this.state.showAdd})} className={`w-12 cursor-pointer h-12 mx-2 relative rounded-full bg-greenish`}>\r\n                            {this.state.showAdd ?\r\n                                x('w-6 text-white centerize')\r\n                                :\r\n                                plus('w-6 text-white centerize')\r\n                            }\r\n                            <motion.div onClick={(e) => e.stopPropagation()} className=\"absolute left-0 bottom-0 mb-12 py-6 w-48 bg-black-blue\"\r\n                                        animate={this.state.showAdd ? 'open' : 'close'}\r\n                                        transition=\"transition\"\r\n                                        variants={this.addVariant}\r\n                            >\r\n                                <label htmlFor=\"excel\" className=\"px-6 mb-4 cursor-pointer py-1 border-2 border-greenish text-greenish rounded-lg\">\r\n                                    {this.props.t('uploadExcel')}\r\n                                </label>\r\n                                <input\r\n                                    onChange={(e) => this.handleExcel(e.target.files[0])}\r\n                                    type=\"file\"\r\n                                    id=\"excel\"\r\n                                    className=\"hidden\"\r\n                                    accept=\"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet, application/vnd.ms-excel\"\r\n                                />\r\n\r\n                        <button onClick={() => this.setState({addStudent : true})} className=\"w-5/6 cursor-pointer mt-4 py-1 border-2 border-purplish text-purplish rounded-lg\">{this.props.t('addSingle')}</button>\r\n                            </motion.div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n\r\n                <div className=\"w-full rounded-lg min-h-90 p-4 lg:col-span-3 col-span-1 border-2 border-dark-blue\">\r\n                    <div className=\"flex flex-row-reverse justify-between\">\r\n                        <div className=\"flex flex-row-reverse justify-between\">\r\n                            {(this.state.classDetail ?\r\n                            <PencilText \r\n                                text={this.state.classDetail.className} \r\n                                className=\"text-right text-white text-2xl\" \r\n                                show={this.state.showChangeName}\r\n                                showBox={() => this.setState({ showChangeName: true })}\r\n                                value={this.state.className}\r\n                                changeValue={(className) => this.setState({ className  })}\r\n                                submit={this.onEdit}\r\n                            />\r\n                            : null)}\r\n                            {/*{(this.props.classDetail ?*/}\r\n                            {/*    <React.Fragment>*/}\r\n                            {/*        <p className=\"text-right text-white text-2xl\">{this.state.classDetail.className}</p>*/}\r\n                            {/*        <p onClick={() => this.showDelete(this.state.classDetail.id)} className=\"cursor-pointer\">*/}\r\n                            {/*            {trash('w-6 text-white ')}*/}\r\n                            {/*        </p>*/}\r\n                            {/*    </React.Fragment>*/}\r\n                            {/*: null)}*/}\r\n                        </div>\r\n                        <div>\r\n                            {/*<Link className=\"px-6 py-1 rounded-lg border-2 border-grayish text-grayish\" to=\"/m/bases\">بازگشت</Link>*/}\r\n                            <button onClick={() => this.showDelete(this.state.classDetail.id)} className=\"px-6 py-1 mx-0 mt-4 ml-0 rounded-lg border-2 border-redish text-redish\">{this.state.classDetail.grade_Id == 0 ? this.props.t('deleteRoom') : this.props.t('deleteClass')} </button>\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"my-8\">\r\n                        <button onClick={() => this.setState({ addLesson: true })} className=\"px-6 py-1 bg-greenish text-white rounded-lg mb-2\"> {this.state.classDetail.grade_Id == 0 ? this.props.t('addFreeMeeting') : this.props.t('addLesson')} </button>\r\n                        <div ref={this.sc} className=\"border-2 border-dark-blue overflow-auto\">\r\n                            {!this.props.loading ?\r\n                                <Schedule\r\n                                    isManager={true}\r\n                                    isTeacher={true}\r\n                                    editable={true}\r\n                                    lessons={this.props.schedules}\r\n                                    deleteSchedule={(id)  => this.deleteLesson(id)}\r\n                                    // lessons={[\r\n                                    //     {i: \"1\", name: \"حسابان 1\", teachername: \"احمدی\", c: \"bg-redish cursor-pointer\", x: 8, y: 1, w: 2, h: 1, static: true},\r\n                                    //     {i: \"2\", name: \"هندسه 1\", teachername: \"باقری\", c: \"bg-purplish cursor-pointer\", x: 6, y: 2, w: 3, h: 1, static: true},\r\n                                    // ]}\r\n                                />\r\n                                :\r\n                                \"loading\"\r\n                            }\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n    return {user : state.auth.userInfo  , allClass : state.schoolData.allClass , schedules : state.schedules.classSchedules , students : state.managerData.studentsInClass}\r\n}\r\n\r\nconst authWrapped = protectedManager(ClassInfo)\r\n\r\nconst cwrapped = connect(mapStateToProps , {AddClassSchedule , getStudentsClass , \r\n    DeleteClassSchedule , getClassSchedule , UnAssignUserFromClass ,\r\n    AssignUserToClass , AssignUserListToClass , deleteClass , editClass})(authWrapped);\r\n\r\nexport default withTranslation()(cwrapped);
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/src/Presentation/Virgol.School/ClientApp/src/components/dashboards/manager/class/ClassInfo.js b/src/Presentation/Virgol.School/ClientApp/src/components/dashboards/manager/class/ClassInfo.js
--- a/src/Presentation/Virgol.School/ClientApp/src/components/dashboards/manager/class/ClassInfo.js	(revision a69c99e771a5df20b0ed0d2de1a71cafbf9eae09)
+++ b/src/Presentation/Virgol.School/ClientApp/src/components/dashboards/manager/class/ClassInfo.js	(date 1613124071830)
@@ -161,7 +161,7 @@
                 : 
                 null
                 }
-                <div className="addStudent lg:row-start-1 row-start-2 w-full relative rounded-lg lg:min-h-90 text-center min-h-0 py-6 px-4 col-span-1 border-2 border-dark-blue">
+                <div className="addStudent lg:row-start-1 row-start-2 w-full relative rounded-lg lg:min-h-90 text-center min-h-0 py-6 px-4 mt-4 col-span-1 border-2 border-dark-blue">
             <p className="text-xl text-white mb-8">{this.state.classDetail.grade_Id == 0 ? this.props.t('participantList') : this.props.t('studentsList')} </p>
                     {/* <label htmlFor="excel" className="px-1 cursor-pointer py-1 border-2 border-greenish text-greenish rounded-lg">*/}
                     {/*    {plus('w-4')}*/}
@@ -222,7 +222,7 @@
                     </div>
                 </div>
 
-                <div className="w-full rounded-lg min-h-90 p-4 lg:col-span-3 col-span-1 border-2 border-dark-blue">
+                <div className="w-full rounded-lg min-h-90 p-4 lg:col-span-3 col-span-1 border-2 border-dark-blue mt-4">
                     <div className="flex flex-row-reverse justify-between">
                         <div className="flex flex-row-reverse justify-between">
                             {(this.state.classDetail ?
